<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>SEO :: Learn Node.js by Alex Kluew</title>
    <link rel="canonical" href="https://course.learnnodejs.dev/main/1.5/seo.html">
    <meta name="generator" content="Antora 2.3.3">
    <link rel="stylesheet" href="../../_/css/site.css">
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-173618647-1"></script>
    <script>function gtag(){dataLayer.push(arguments)};window.dataLayer=window.dataLayer||[];gtag('js',new Date());gtag('config','UA-173618647-1')</script>
  </head>
  <body class="article">
<script async data-uid="b7a10c8563" src="https://wondrous-experimenter-4427.ck.page/b7a10c8563/index.js"></script>
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://course.learnnodejs.dev">Learn Node.js by Alex Kluew</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://gumroad.com/l/javascript" target="_blank">Buy on Gumroad</a>
        <a class="navbar-item" href="https://leanpub.com/learnnodejs" target="_blank">Buy on LeanPub</a>
        <a class="navbar-item" href="https://twitter.com/alexkluew_dev">
          <span class="icon">
            <svg aria-hidden="true" data-icon="twitter" role="img" xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 512 512">
              <path fill="#57aaee"
                d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z">
              </path>
            </svg>
          </span>
        </a>
      </div>
    </div>
  </nav>
</header><div class="body">
<div class="nav-container" data-component="main" data-version="1.5">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html">Learn Node.js</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Learn Node.js</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="introduction.html">Introduction</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="sequelize.js.html">Sequelize.js</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="seo.html">SEO</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="maps.html">Maps</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="pagination.html">Pagination</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="users.html">Users</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="deployment.html">Deployment</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Learn Node.js</span>
    <span class="version">1.5</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Learn Node.js</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">1.5</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li>Learn Node.js</li>
    <li><a href="seo.html">SEO</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/learnnodejsca/learnnodejs/edit/master/main/modules/ROOT/pages/seo.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<article class="doc">
<h1 class="page">SEO</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Search engine optimization (SEO) is a beast of its own and would require its own book. In this chapter I will introduce you to some tips and good to haves in your application if it is facing the public and search engines may crawl it. If it is an internal project then perhaps this section could be totally skipped.</p>
</div>
<div class="paragraph">
<p>Elderoost&#8217;s SEO goals were to have good ranking for minimum amount of effort. In other words, I wanted to rank on the front page but anywhere within that page. To ensure best possible results available, I used the best bang for buck implementation of SEO in our project. I&#8217;ve  included a checklist at the end of the section that can help you with SEO of your project.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_minimum_seo"><a class="anchor" href="#_minimum_seo"></a>Minimum SEO</h2>
<div class="sectionbody">
<div class="paragraph">
<p>For each page, I recommend the following tags to be present in the <code>&lt;head&gt;</code> section of your application layout at the minimum.</p>
</div>
<div id="layout-head" class="listingblock">
<div class="title">views/layout.hbs</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-html hljs" data-lang="html">...
&lt;head&gt;
  &lt;meta charset="utf-8"&gt;
  &lt;meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"&gt;
  &lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt;
  &lt;title&gt;{{title}}&lt;/title&gt;
  &lt;meta name="description" content="Changing the conversation when it comes to senior care." /&gt;
  {{#if canonical}}&lt;link href="{{canonical}}" rel="canonical"&gt;{{/if}}
  &lt;meta property="og:title" content="{{title}}" /&gt;
  &lt;meta property="og:url" content="https://elderoostalpha.herokuapp.com" /&gt;
  &lt;meta property="og:type" content="website" /&gt;
  &lt;meta property="og:site_name" content="Elderoost" /&gt;
  &lt;meta property="og:description" content="Changing the conversation when it comes to elderly care." /&gt;
  &lt;meta name="twitter:card" content="summary"&gt;
  &lt;meta name="twitter:site" content="@Elderoost"&gt;
  &lt;meta name="twitter:creator" content="@alexkluew"&gt;
  &lt;meta name="twitter:description" content="Changing the conversation when it comes to elderly care."&gt;
  &lt;meta name="twitter:title" content="{{title}}"&gt;
  &lt;meta itemprop="name" content="{{title}}"&gt;
  &lt;meta itemprop="description" content="Changing the conversation when it comes to senior care."&gt;
&lt;/head&gt;
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>What it comes down to is having a page title, page description, and the author for starters. I also recommend placing a canonical link the header tag. Then these three values are set in <a href="https://developer.twitter.com/en/docs/tweets/optimize-with-cards/guides/getting-started">twitter social cards</a> or <a href="https://ogp.me">open graph protocol</a>. I would look up both of the formats to get familiar about what each tag expects as its value. The basic overview was outlined above.</p>
</div>
<div class="paragraph">
<p>How to figure out what text to put in my title and description attributes? If you are not dealing with a brand new field, I would look up competitive businesses and see how they structure their search engine and social media presence. Look at both static pages and dynamic results. For example, look up length of strings and type of words that are to be placed in those strings for similar html meta tags. Search what kind of descriptions and keywords that are popular or most relevant to your project. One good thing about SEO, is that it is structured similarly on optimized websites. Look at top businesses in your project’s field and see what they have in common in their meta tags. There bound to be some similarities as similar projects would aim for similar descriptions and titles in order to provide similar results on a search engine.</p>
</div>
<div class="paragraph">
<p>If you are in a brand new field, then I would look at your most favourite brand’s websites and see how they structure their data. Then I would rely on a search engine’s guidelines. See what kind of text or keyword data places where in the search results.</p>
</div>
<div class="paragraph">
<p>I usually spend some time per project on <a href="https://adwords.google.com/aw/keywordplanner/home">Google’s Keyword Planner</a> or some similar keyword tool. I would look into what words would be relevant to my project and reference against my competition. Or in a case of a brand new field, I would test different keyword combinations for different pages and keep metrics.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_schema_org"><a class="anchor" href="#_schema_org"></a>Schema.org</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this section we will be going over the ways that we can improve our project’s search engine physical appearance and results after we go live. Elderoost project comes with complete example of what an optimized application should aim to have. Every relevant page has the specific meta tags and descriptions set that are dynamic, and pertinent to the page’s context.</p>
</div>
<div class="paragraph">
<p>When working on SEO, my goal was to provide as much descriptive content about a specific context as possible. To get any real advantage of SEO, I needed to analyze my data. I needed to see if there was any ways to structure my data into known SEO entities. So, lets take an individual residence for example. For each section of our website we want to maximize amount of meta data that we can provide to a robot crawling our website for search engine results. In other words, you want to analyze your web pages and figure out which entities exist in which sections of the website. Then you should structure your meta data and test the implementation so that meta data is correct. I will first walk you through the way that you structure elements on a webpage using a specification below.</p>
</div>
<div class="paragraph">
<p>I analyzed my data and separated residence data by city and by province. When I did that, I noticed that this type of representation kind of looks like a breadcrumbs structure. That is exactly how I group this data in code. What you see below is that I call city an <code>ItemListElement</code> at position 2 and province as <code>ItemListElement</code> at position 1. These properties are part of the <a href="http://schema.org" class="bare">http://schema.org</a> specification which teaches us just how to describe our data. The breadcrumbs in the user interface is implemented to look like this : <code>Ontario &gt; Toronto</code>. I hope after reading this, you can appreciate why it looks like that in the UI.</p>
</div>
<div class="listingblock">
<div class="title">views/residences/show.hbs</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-html hljs" data-lang="html">...
&lt;small class="padding-bottom" itemscope itemtype="http://schema.org/BreadcrumbList"&gt;
&lt;span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"&gt;
&lt;a itemprop="item" href="/residences/by-province/{{residence.address_state_slug}}" class="main__infobox__link"&gt;
&lt;span itemprop="name"&gt;{{residence.address_state }}&lt;/span&gt;
&lt;meta itemprop="position" content="1" /&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span  itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"&gt;
&lt;a itemprop="item" href="/residences/by-city/{{residence.address_city_slug}}" class="main__infobox__link"&gt;
&lt;span itemprop="name"&gt;{{residence.address_city}}&lt;/span&gt;
&lt;meta itemprop="position" content="2" /&gt;&lt;/a&gt;&lt;/span&gt;
&lt;/small&gt;
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the code, like you see above, I would pay attention to itemscope, itemtype, and itemprop properties attached to various html elements.</p>
</div>
<div class="paragraph">
<p>Similarly, lets take a look at how I described a single residence entry using metadata :</p>
</div>
<div style="page-break-after: always;"></div>
<div class="listingblock">
<div class="title">views/residences/show.hbs</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-html hljs" data-lang="html">&lt;section class="main main-text-wrapper" itemscope itemtype="http://schema.org/Residence"&gt;
...
    &lt;meta itemprop="sameAs" content="/residences/{{residence.slug}}" /&gt;
...
      &lt;span itemprop="name"&gt;{{residence.name}}&lt;/span&gt;
...
      &lt;div itemprop="address" itemscope itemtype="http://schema.org/PostalAddress"&gt;
        &lt;i class="fa fa-map-marker fa__mod" aria-hidden="true"&gt;&lt;/i&gt;&amp;nbsp;&lt;span itemprop="streetAddress"&gt;
          {{residence.address_num}}&amp;nbsp;{{residence.address_street}}
        &lt;/span&gt;&amp;nbsp;&lt;br&gt;&lt;span itemprop="addressLocality"&gt;{{residence.address_city}}&lt;/span&gt;&amp;nbsp;&lt;span
          itemprop="addressRegion"&gt;{{residence.address_state}}&lt;/span&gt;&amp;nbsp;&lt;span
          itemprop="postalCode"&gt;{{residence.postal_code}}&lt;/span&gt;&lt;br&gt;Canada
      &lt;/div&gt;
      &lt;span itemprop="hasMap"
        content="http://maps.google.com/maps?daddr={{residence.latitude}},{{residence.longitude}}"&gt;&lt;a
          href="http://maps.google.com/maps?daddr={{residence.latitude}},{{residence.longitude}}"
          class="main__wrapper__link" rel="nofollow" target="_blank"&gt;Get directions&lt;i class="fa fa-external-link"
            aria-hidden="true"&gt;&lt;/i&gt;&lt;/a&gt;&lt;/span&gt;
      &lt;div itemprop="geo" itemscope itemtype="http://schema.org/GeoCoordinates"&gt;
        &lt;meta itemprop="latitude" content="{{residence.latitude}}" /&gt;
        &lt;meta itemprop="longitude" content="{{residence.longitude}}" /&gt;
      &lt;/div&gt;
...
	{{#each reviews as |review|}}
        &lt;article class="individual-listing-review padding-top" itemprop="review" itemscope
          itemtype="http://schema.org/Review"&gt;
          &lt;div class="review-rating"&gt;
            &lt;div itemprop="reviewRating" itemscope itemtype="http://schema.org/Rating"&gt;
              &lt;meta itemprop="worstRating" content="1"&gt;
              &lt;meta itemprop="ratingValue" content="{{rating_value}}"&gt;
              &lt;meta itemprop="bestRating" content="5"&gt;
              {{rating_value}}
            &lt;/div&gt;
          &lt;/div&gt;
          &lt;div class="review-name" itemprop="name"&gt;
            &lt;strong style="color: #111111"&gt;{{name}}&lt;/strong&gt;
            &lt;small style="color: #555555; font-style: italic;"&gt;by &lt;span itemprop="author" itemscope
                itemtype="http://schema.org/Person"&gt;&lt;span itemprop="author"&gt;{{author}}&lt;/span&gt;&lt;/span&gt;&lt;/small&gt;
          &lt;/div&gt;
          &lt;div class="review-body" itemprop="description" style="color: #4a4a4a"&gt;
            {{description}}
          &lt;/div&gt;
        &lt;/article&gt;
        {{/each}}
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>There is quite a bit of meta data there to describe a single residence but it is mostly the same data which is displayed on each page. How convenient?! Basically, in the meta data above, I described a senior residence name, the address, geolocation coordinates, map link to google’s map. I also described all of the possible reviews and their meta data. Each review has a rating between 1 and 5, an author, and a text description. All of this information is displayed for the user to understand and for the robots to reference about our data.</p>
</div>
<div class="paragraph">
<p>Once completed the code, you can test your metadata by a service such us one provided by google and looks like this</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/breadcrumb-residence-structure-screen-google.png" alt="Structured data testing tool from Google">
</div>
<div class="title">Figure 1. Structured data testing tool from Google</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Download <code>views/residences/show.hbs</code> template</div>
<div class="paragraph">
<p>Download complementary completed <code>views/residences/show.hbs</code> template <a href="https://bit.ly/residences-show">here</a>.</p>
</div>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_sitemap"><a class="anchor" href="#_sitemap"></a>Sitemap</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Do not forget to also send a sitemap representation of the application to the search engines. This way all of the SEO work will be actually found once their bots visit your submitted URLs in the sitemap format. In our procedure we will be using the sitemap module. It creates the proper sitemap for us which we will then gzip on our own. The only manual task for now is the generation of the residences URL text file as input to the sitemap.</p>
</div>
<div class="paragraph">
<p>Since this is a manual task, there is a route which you have to uncomment in the <code>residences.js</code> router handler file.</p>
</div>
<div class="listingblock">
<div class="title">routes/residences.js</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">...
router.get('/api/string', async (req, res, next) =&gt; {
  const residences = await Residence.findAll(); <i class="conum" data-value="1"></i><b>(1)</b>
  if (residences) {
    var str = ''; <i class="conum" data-value="2"></i><b>(2)</b>
    for (var residence of residences) {
      str = str + `https://domain.com/residences/${residence.slug}\n`;
    }
    res.send(str); <i class="conum" data-value="3"></i><b>(3)</b>
  }
});
...</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Find all Residence data</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>This data we will convert to a single string which we will use as input to the sitemap module</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Send the data which we then copy and paste into <code>./config/sitemap-list-of-urls.txt</code></td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When we obtain all of our link data, we can proceed to generate the sitemap. I added the command to my <code>package.json</code> like so</p>
</div>
<div class="listingblock">
<div class="title">package.json</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">...
"sitemap": "npx sitemap &lt; ./config/sitemap-list-of-urls.txt &gt; ./config/sitemap.xml", <i class="conum" data-value="1"></i><b>(1)</b>
"sitemap:gzip": "gzip -c ./config/sitemap.xml &gt; ./public/sitemap.xml.gz" <i class="conum" data-value="2"></i><b>(2)</b>
...</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Generate the sitemap <code>xml</code> file from the input</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Gzip the file and paste into the appropriate place in <code>public</code> folder</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>All you have to do now is figure out how to submit the sitemap url to the search engines. Each engine has their own way.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_social_share_images"><a class="anchor" href="#_social_share_images"></a>Social share images</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Before working on this section in the project, we had decent SEO because we worked on it in the previous section. With our current code, when someone shares our link on social media only textual data will be available to describe our URL due to our current tags. So, when someone shares the link to the project on twitter, for example, then the following card will pop up based on our provided meta-data :</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="_images/card-preview-screen-v1.png" alt="Card preview screen version 1" width="300">
</div>
<div class="title">Figure 2. Card preview screen version 1</div>
</div>
<div class="paragraph">
<p>While that is better than sharing a simple link, and clearly dynamic, I could take this a bit further by adding an image to the card. This way, when someone will share our link in the future our card will look like this :</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="_images/card-preview-screen-v2.png" alt="Card preview screen version 2" width="300">
</div>
<div class="title">Figure 3. Card preview screen version 2</div>
</div>
<div class="paragraph">
<p>I wanted to do exactly as the image above shows. I wanted to add this dynamic image to my social media cards which show up whenever someone shares this project’s url. Moreover, I wanted this image to be generated on the fly by the server. To test my implementation, I used twitter&#8217;s https://cards-dev.twitter.com/validator[card preview feature].</p>
</div>
<div class="paragraph">
<p>In my express.js app I wanted to see if I could generate images of a web page. So, I went with the idea of taking web page screenshot and, then, using this screenshot as my social media card. This is done by setting the two image properties in my meta tags (just as I show you below) :</p>
</div>
<div class="paragraph">
<p>The two SEO image tags that I needed to be dynamic were : <code>og:image</code> and <code>twitter:image</code>. I adjusted the express.js project by going into my handlebars.js layout template and adding an if statement.</p>
</div>
<div class="paragraph">
<p>The if statement simply looks for the presence of <code>page_image</code> variable as one of the attributes passed on to the template. If the variable exists, then simply populate its content wherever we need it. Or, in other words :</p>
</div>
<div class="listingblock">
<div class="title">layout.hbs</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-html hljs" data-lang="html">...
{{#if page_image}}
&lt;meta name="og:image" content="{{page_image}}"&gt;
&lt;meta name="twitter:card" content="summary_large_image"&gt;
&lt;meta name="twitter:image" content="{{page_image}}"&gt;
{{else}}
&lt;meta name="twitter:card" content="summary"&gt;
{{/if}}
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>From above, <code>page_image</code> variable holds just a simple string that show the location to my dynamic image generation function. The string is a combination of simply taking a residence <code>slug</code> and adding <code>/image</code> to it.</p>
</div>
<div class="paragraph">
<p>So, if I was rendering the following page</p>
</div>
<div class="literalblock">
<div class="content">
<pre>https://elderoostalpha.herokuapp.com/residences/elim-village-british-columbia-reviews</pre>
</div>
</div>
<div class="paragraph">
<p>then the image url will be</p>
</div>
<div class="literalblock">
<div class="content">
<pre>https://elderoostalpha.herokuapp.com/residences/elim-village-british-columbia-reviews/image</pre>
</div>
</div>
<div class="paragraph">
<p>This string is just passed on as data to the template.</p>
</div>
<div class="paragraph">
<p>For example, the following code..</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">...
res.render(`templateName`,{
  page_image : `https://elderoostalpha.herokuapp.com/residences/carolina-retirement-suites-ontario-reviews/image`
});
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>would translate to the if statement above evaluating to true, in the handlebars.js template, and the attached html code of the block was :</p>
</div>
<div class="listingblock">
<div class="title">layout.hbs after evaluating the content of <code>page_image</code></div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-html hljs" data-lang="html">...
&lt;meta name="og:image" content="https://elderoostalpha.herokuapp.com/residences/carolina-retirement-suites-ontario-reviews/image"&gt;
&lt;meta name="twitter:card" content="summary_large_image"&gt;
&lt;meta name="twitter:image" content="https://elderoostalpha.herokuapp.com/residences/carolina-retirement-suites-ontario-reviews/image"&gt;
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>Perfect, now our routes are dynamic just like I wanted. Now, I needed to implement the actual <code>router.get('/image')</code> function. We go to our terminal and type in the following to install puppeteer and add it to our project :</p>
</div>
<div id="puppeteer" class="listingblock">
<div class="title">Install puppeteer</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">npm install --save puppeteer</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then we just code the end point that we want above. Mine looked like this :</p>
</div>
<div class="listingblock">
<div class="title">routes/residences.js</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">...
const express = require('express');
const puppeteer = require('puppeteer');
const router = express.Router();
...
// equivalent to :
// https://elderoostalpha.herokuapp.com/residences/:slug/image
router.get('/:slug/image', async (req, res, next) =&gt; {
  const { slug } = req.params;
  const browser = await puppeteer.launch();
  const page = await browser.newPage();
  await page.goto(`https://elderoostalpha.herokuapp.com/residences/${slug}`);
  const screenshot = await page.screenshot({
    type: 'png',
    encoding: 'binary'
  }); <i class="conum" data-value="1"></i><b>(1)</b>
  await browser.close();
  res.header('Content-Type', 'image/png'); <i class="conum" data-value="3"></i><b>(3)</b>
  res.send(screenshot); <i class="conum" data-value="2"></i><b>(2)</b>
});
...
module.exports = router;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>We conveniently just save screenshot as binary output</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Then our response sends that binary data and it displays as an image</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>when we set the <code>content-type</code> of the response to <code>image/png</code>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Success! We added a new <code>get /residences/:slug/image</code> route that sends a dynamic screenshot image of the webpage and we mainly did this for improving our SEO value proposition.</p>
</div>
<div class="paragraph">
<p>Just as the section introduction shows, the newly created dynamic image adds a bit more value to the existing social cards. Your cards now show to the user exactly what the page looks like before they think of clicking on the social card to view it. If they click on the card and go to the actual page, then they view a familiar UI that was presented to them in the social card. This concluded our current SEO optimization. By the end of this section, my layout template had the <a href="#layout-head">following tags</a>.</p>
</div>
<div class="paragraph">
<p>And there we have it. Our residence entry has a card with a beautiful generated image on it when someone shares our project on social.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="_images/card-preview-screen-v2.png" alt="Card preview screen version 2" width="300">
</div>
<div class="title">Figure 4. Card preview screen version 2</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Now, having gone through all of the trouble of creating this, I am going to tell you not to use it like this in production. You see, there is some delay between starting up the puppeteer and returning a screenshot of a web-page. This delay is unfortunately much longer than the time it takes a social media card to load to a user. Thus, if you are running this code on your own server you may notice some cards require a refresh before they appear.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>An alternative solution would be to use this script, create all of the dynamic images, and save them somewhere where you would serve them instead of dynamically generating on the fly. A typical place to serve your assets is something like an Amazon’s S3 bucket. This way, you would change your code to serve the generated image rather than a dynamic one. You could also save these images on your server for each entry. For example, save it into your public folder under a specific name and add an attribute to your residences model to tell it the file that it needs to request from your public folder.</p>
</div>
<div class="paragraph">
<p>You can get creative and have a robot that updates all of these images and generates new ones, suppose once a day, or something like that. This depends on how often your layout changes and whether or not new images are providing much value to the social sharing.</p>
</div>
<div class="paragraph">
<p>Another solution would be to use a service that specializes in generating screenshots from urls. However, both, the AWS S3 bucket and an external API would have to be extra costs that you need to incorporate to your project.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_seo_checklist"><a class="anchor" href="#_seo_checklist"></a>SEO Checklist</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Here is a checklist that will help you stay on track with SEO on your website or application</p>
</div>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-square-o"></i> Switch To HTTPS</p>
</li>
<li>
<p><i class="fa fa-square-o"></i> Set Up Google Search Console</p>
</li>
<li>
<p><i class="fa fa-square-o"></i> Set Up Google Analytics</p>
</li>
<li>
<p><i class="fa fa-square-o"></i> Set Up Bing Webmaster Tools</p>
</li>
<li>
<p><i class="fa fa-square-o"></i> Create XML <code>Sitemap</code></p>
</li>
<li>
<p><i class="fa fa-square-o"></i> Create and add a <code>robots.txt</code> file to your site</p>
</li>
<li>
<p><i class="fa fa-square-o"></i> Submit <code>sitemap.xml</code> to Google Search Console</p>
</li>
<li>
<p><i class="fa fa-square-o"></i> Submit <code>sitemap.xml</code> to Bing Webmaster Tools</p>
</li>
<li>
<p><i class="fa fa-square-o"></i> Fix Crawl Errors</p>
</li>
<li>
<p><i class="fa fa-square-o"></i> Fix Broken Links</p>
</li>
<li>
<p><i class="fa fa-square-o"></i> Fix Any Missing or Duplicate <code>Meta</code> Tags</p>
</li>
<li>
<p><i class="fa fa-square-o"></i> Keep Your URLs Short, Descriptive</p>
</li>
<li>
<p><i class="fa fa-square-o"></i> Add Schema.org Description (where relevant)</p>
</li>
<li>
<p><i class="fa fa-square-o"></i> Use a Keyword Research Tool</p>
</li>
<li>
<p><i class="fa fa-square-o"></i> Optimize the Readability of Your Content</p>
</li>
<li>
<p><i class="fa fa-square-o"></i> Add Your Keyword to Your <code>Title</code> Tag</p>
</li>
<li>
<p><i class="fa fa-square-o"></i> Add Your Keyword to Your <code>Meta</code> Description</p>
</li>
<li>
<p><i class="fa fa-square-o"></i> Add Your Keyword to Your <code>H1</code> Tag</p>
</li>
<li>
<p><i class="fa fa-square-o"></i> Include Your Keyword in the <code>Body</code> of the Page</p>
</li>
<li>
<p><i class="fa fa-square-o"></i> Find long-tail keyword variations and use in the <code>Body</code> of the Page</p>
</li>
<li>
<p><i class="fa fa-square-o"></i> Label Your Images with Descriptive <code>ALT</code> Tags</p>
</li>
<li>
<p><i class="fa fa-square-o"></i> Use Internal Links</p>
</li>
<li>
<p><i class="fa fa-square-o"></i> Link to Authoritative Sites</p>
</li>
<li>
<p><i class="fa fa-square-o"></i> Reverse-Engineer Your Competitors’ Links and <code>Meta</code> Tags, Keywords</p>
</li>
<li>
<p><i class="fa fa-square-o"></i> Make Sure Your Site Doesn’t Have Duplicate Content</p>
</li>
<li>
<p><i class="fa fa-square-o"></i> Claim Your Brand Name on as Many Social Networks as Possible</p>
</li>
<li>
<p><i class="fa fa-square-o"></i> Make Your Site Mobile Friendly</p>
</li>
<li>
<p><i class="fa fa-square-o"></i> Speed Up Your Site</p>
</li>
<li>
<p><i class="fa fa-square-o"></i> Using WordPress Software? Install Yoast SEO Plugin</p>
</li>
<li>
<p><i class="fa fa-square-o"></i> Add Social Sharing Images</p>
</li>
<li>
<p><i class="fa fa-square-o"></i> Add Tags and Categories</p>
</li>
</ul>
</div>
</div>
</div>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
  </body>
</html>
